(this["webpackJsonpadventurers-inn-react"]=this["webpackJsonpadventurers-inn-react"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){"use strict";i.r(t);var s,r,a=i(0),n=i(1),c=i.n(n),o=i(9),l=i.n(o),u=i(2),h=i(3),m=i(5),d=i(4),b=i(8),p=i(6),j=new(function(){function e(){if(Object(u.a)(this,e),s)return s;s=this,this.numberFormat=new Intl.NumberFormat("en-GB",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),this.integerFormat=new Intl.NumberFormat("en-GB",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),this.scoreFormat=new Intl.NumberFormat("en-GB",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}),this.doBindings()}return Object(h.a)(e,[{key:"doBindings",value:function(){this.formatNumber=this.formatNumber.bind(this),this.formatScore=this.formatScore.bind(this),this.formatInteger=this.formatInteger.bind(this),this.canShowItems=this.canShowItems.bind(this),this.calculateSalary=this.calculateSalary.bind(this)}},{key:"calculateItemCostWithMultiplier",value:function(e){for(var t=e.baseCost,i=0;i<e.quantity;i++)t*=e.costModifier;return t}},{key:"calculateSalary",value:function(e){return 10*Number(e)}},{key:"formatNumber",value:function(e){return this.numberFormat.format(e/100)}},{key:"formatScore",value:function(e){return this.scoreFormat.format(e/100)}},{key:"formatInteger",value:function(e){return this.integerFormat.format(e/100)}},{key:"restartGame",value:function(){var e=document.location;document.location=e}},{key:"calculateItemMultipliers",value:function(e){var t=this;return(e=e.slice()).forEach((function(e){e.multipliers.length&&(e.perSecondMultiplier=e.basePerSecondMultiplier,e.multipliers.forEach((function(t){var i=t.expression(e)*t.multiplier;i&&(e.perSecondMultiplier+=i,t.active=!0)}))),e.items&&(e.items=t.calculateItemMultipliers(e.items))})),e}},{key:"calculatePerSecond",value:function(e){var t=this,i=0;return e.forEach((function(e){i+=e.perSecond*e.quantity*e.perSecondMultiplier,e.items&&(i+=t.calculatePerSecond(e.items))})),i}},{key:"getRandom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Number(Math.floor(Math.random()*Math.floor(e+1)))}},{key:"canShowItems",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=e.slice()).forEach((function(e){e.canShow||i>=e.baseCost/100*75&&(e.canShow=!0),e.items&&(e.items=t.canShowItems(e.items,i))})),e}},{key:"calculateItemPrices",value:function(e){return{one:j.calculateBuyNItem(e,1),five:j.calculateBuyNItem(e,5),ten:j.calculateBuyNItem(e,10),hundred:j.calculateBuyNItem(e,100)}}},{key:"calculateBuyNItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("number"===typeof t){for(var s=e.quantity,r=e.quantity+t,a=e.costModifier,n=e.baseCost,c=0,o=0;o<r;o++)o>0&&(n*=a),o+1>s&&(c+=n);return c}if("max"===t){for(var l=0,u=0,h=1;(u=this.calculateBuyNItem(e,h))<i;)h+=1,l=u;return h-1===0?{cost:u,amount:1}:{cost:l,amount:h-1}}}}]),e}()),v=j,f=new(function(){function e(){if(Object(u.a)(this,e),r)return r;r=this}return Object(h.a)(e,[{key:"log",value:function(e){console&&console.table(e)}}]),e}()),O=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.009,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];Object(u.a)(this,e),this.basePerSecondMultiplier=1,this.prices={one:0,five:0,ten:0,hundred:0},this.name=t,this.baseCost=i,this.costModifier=s,this.quantity=r,this.perSecond=a,this.perSecondMultiplier=n,this.basePerSecondMultiplier=n,this.manager=c,this.multipliers=o,this.items=l,this.prices.one=i},S=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(u.a)(this,e),this.multiplier=1,this.label="",this.active=!1,this.expression=t,this.multiplier=i,this.label=s,this.active=r},g=[new O("Barstaff",1e4,1.009,0,10,1,!0,[new S((function(e){return Math.floor(e.quantity/100)}),.5,"Multiplied by .5 per 100"),new S((function(e){return Math.floor(e.quantity/1e3)}),.5,"Multiplied by .5 per 1000")],[new O("Bard",1e5,1.009,0,50,1,!0,[new S((function(e){return Math.floor(e.quantity/150)}),.5,"Multiplied by .5 per 100")],[])]),new O("Miner",1e6,1.009,0,100,1,!0,[new S((function(e){return Math.floor(e.quantity/100)}),1,"Multiplied by 2.0 per 100")],[new O("Super Miner",1e8,1.009,0,1e3,1,!0,[],[new O("Mega Miner",1e10,1.009,0,1e3,1,!0,[],[])])]),new O("Adventurer",1e12,1.009,0,1e6,1,!0,[],[]),new O("Orc Warrior",1e14,1.009,0,1e7,1,!0,[],[])];function y(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.forEach((function(t){e&&(t.baseCost*=.01),t.id=i++,t.canShow=!1,t.prices=v.calculateItemPrices(t),t.items&&(t.items=y(e,t.items))})),t}function x(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y(e,g)}i(16);var k=function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).state={showStats:!1},s}return Object(h.a)(i,[{key:"toggleStatsDisplay",value:function(){this.setState({showStats:!this.state.showStats})}},{key:"render",value:function(){var e=this,t=this.props.debug?Object(a.jsx)("li",{className:"debugMessage",children:"DEBUG MODE IS ON"}):"",i=this.props.debugClickDefaultItem?Object(a.jsxs)("li",{className:"debugMessage",children:["DEBUG DEFAULT ITEM CLICK IS ON (EACH CLICK: ",v.formatInteger(this.props.debugClickDefaultItem),")"]}):"",s=this.state.showStats?Object(a.jsxs)("ul",{children:[t,i,Object(a.jsxs)("li",{children:["FPS: ",this.props.FPS]}),Object(a.jsxs)("li",{children:["Tick Duration (ms): ",v.formatNumber(this.props.tickLength)]}),Object(a.jsxs)("li",{children:["Per Tick: ",v.formatNumber(this.props.perSecond*this.props.perSecondMultiplier/1e3*this.props.FPS)]}),Object(a.jsxs)("li",{children:["Per Second: ",v.formatNumber(this.props.perSecond*this.props.perSecondMultiplier)]}),Object(a.jsxs)("li",{children:["Per 10 Seconds: ",v.formatNumber(this.props.perSecond*this.props.perSecondMultiplier*10)]}),Object(a.jsxs)("li",{children:["Salary Time: ",this.props.salaryTime]}),Object(a.jsxs)("li",{children:["Max Wealth: ",v.formatScore(this.props.maxScore)]}),Object(a.jsxs)("li",{children:["Current Wealth: ",v.formatScore(this.props.currentScore)]}),Object(a.jsxs)("li",{children:["Salary: ",v.formatScore(this.props.salary)]}),Object(a.jsxs)("li",{children:["Default Items Bought: ",v.formatInteger(this.props.defaultItemClicks)]})]}):"";return Object(a.jsxs)("div",{className:"stats",children:[Object(a.jsx)("p",{className:"toggleDisplay",onClick:function(){return e.toggleStatsDisplay()},children:"Stats"}),s]})}}]),i}(c.a.Component),I=(i(17),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"pluralise",value:function(e,t){return"Barstaff"===e?e:0===t||t>1?e+"s":e}},{key:"multipliers",value:function(e){if(e.multipliers)return e.multipliers.map((function(e,t){return e.active?Object(a.jsx)("p",{children:e.label},t):""}))}},{key:"render",value:function(){var e=this,t=this.props.items.map((function(t){var s=e.props.parents.slice().concat(t.id),r=v.calculateBuyNItem(t,"max",e.props.currentScore);return Object(a.jsx)("li",{className:t.canShow?"":"hidden",children:Object(a.jsxs)("div",{className:"itemContainer",children:[Object(a.jsxs)("p",{children:[t.quantity," ",e.pluralise(t.name,t.quantity)," @ ",v.formatNumber(t.quantity*t.perSecond*t.perSecondMultiplier)," per second"]}),Object(a.jsxs)("div",{className:"buyButtons",children:[Object(a.jsxs)("button",{disabled:e.props.currentScore<t.prices.one,onClick:function(){return e.props.purchaseItem(s,1,t.prices.one)},children:["Hire 1",Object(a.jsx)("br",{}),v.formatScore(t.prices.one)]}),Object(a.jsxs)("button",{disabled:e.props.currentScore<t.prices.five,onClick:function(){return e.props.purchaseItem(s,5,t.prices.five)},children:["Hire 5",Object(a.jsx)("br",{}),v.formatScore(t.prices.five)]}),Object(a.jsxs)("button",{disabled:e.props.currentScore<t.prices.ten,onClick:function(){return e.props.purchaseItem(s,10,t.prices.ten)},children:["Hire 10",Object(a.jsx)("br",{}),v.formatScore(t.prices.ten)]}),Object(a.jsxs)("button",{disabled:e.props.currentScore<t.prices.hundred,onClick:function(){return e.props.purchaseItem(s,100,t.prices.hundred)},children:["Hire 100",Object(a.jsx)("br",{}),v.formatScore(t.prices.hundred)]}),Object(a.jsxs)("button",{disabled:e.props.currentScore<r.cost,onClick:function(){return e.props.purchaseItem(s,r.amount,r.cost)},children:["Hire ",r.amount,Object(a.jsx)("br",{}),v.formatScore(r.cost)]})]}),Object(a.jsx)("div",{className:"multipliers",children:e.multipliers(t)}),Object(a.jsx)(i,{items:t.items,currentScore:e.props.currentScore,parents:s,purchaseItem:e.props.purchaseItem})]})},t.id)}));return Object(a.jsx)("div",{className:"itemlist",children:Object(a.jsx)("ul",{children:t})})}}]),i}(c.a.Component)),w=(i(18),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).state={score:s.props.currentScore},s}return Object(h.a)(i,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"score",children:Object(a.jsx)("p",{children:v.formatScore(this.state.score)})})}},{key:"tick",value:function(){var e=this.props.currentScore-this.state.score;if(Math.abs(e)<.01)this.setState({score:this.props.currentScore});else if(this.state.score!==this.props.currentScore){var t=e*this.props.tickLength/300;this.setState({score:this.state.score+t})}}},{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.tick()}),this.props.tickLength)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}}]),i}(c.a.Component)),C=(i(19),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=Math.max(20,50-this.props.salaryTimer);return Object(a.jsx)("div",{className:"salary",children:Object(a.jsx)("p",{style:{fontSize:e+"px"},children:v.formatScore(this.props.salary)})})}}]),i}(c.a.Component)),M=(i(20),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).state={disabled:!1},s}return Object(h.a)(i,[{key:"handleClick",value:function(){var e=this;this.state.disabled||this.props.defaultItemClickHandler(),this.setState({disabled:!0},(function(){setTimeout((function(){e.setState({disabled:!1})}),100)}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"defaultItemButton",children:Object(a.jsx)("button",{onClick:function(){return e.handleClick()},disabled:this.state.disabled,children:"Pull Pint"})})}}]),i}(c.a.Component)),N=(i(21),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this,t=this.props.debug?Object(a.jsx)(k,{FPS:this.props.FPS,debug:this.props.debug,tickLength:this.props.tickLength,perSecond:this.props.perSecond,perSecondMultiplier:this.props.perSecondMultiplier,currentScore:this.props.currentScore,maxScore:this.props.maxScore,salary:this.props.salary,salaryTime:this.props.salaryTime,defaultItemClicks:this.props.defaultItemClicks,debugClickDefaultItem:this.props.debugClickDefaultItem}):null;return Object(a.jsxs)("div",{className:"layout",children:[Object(a.jsx)("div",{className:"stats",children:t}),Object(a.jsxs)("div",{className:"scoreContainer",children:[Object(a.jsx)(w,{tickLength:this.props.tickLength,currentScore:this.props.currentScore,perSecond:this.props.perSecond,perSecondMultiplier:this.props.perSecondMultiplier,bonusActive:this.props.bonusActive,bonusMultiplier:this.props.bonusMultiplier,bonusDoubled:this.props.bonusDoubled}),Object(a.jsx)(C,{salary:this.props.salary,salaryTimer:this.props.salaryTimer})]}),Object(a.jsxs)("div",{className:"items",children:[Object(a.jsx)(M,{defaultItemClickHandler:this.props.defaultItemClickHandler}),Object(a.jsx)(I,{items:this.props.items,currentScore:this.props.currentScore,parents:[],purchaseItem:this.props.purchaseItem})]}),Object(a.jsx)("div",{className:"footer",children:Object(a.jsxs)("h2",{children:[Object(a.jsxs)("span",{style:{float:"left"},children:[Object(a.jsx)("button",{onClick:function(){return e.props.saveGame(!0)},children:"Save Game"}),Object(a.jsx)("button",{onClick:function(){window.confirm("Clear data and reload?!")&&(e.props.clearSaveData(),v.restartGame())},children:"Clear Save & Restart"})]}),"\xa9 PhutureProof 2021 Version: ",this.props.version]})})]})}}]),i}(c.a.Component)),T=function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"gameOver",children:[Object(a.jsx)("h1",{children:"Game Over!"}),Object(a.jsx)("p",{children:"Game Stats:"}),Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["Max Wealth Achieved: ",v.formatScore(this.props.maxScore),"."]}),Object(a.jsxs)("li",{children:["Max Income: ",v.formatScore(this.props.perSecond)," per second."]}),Object(a.jsxs)("li",{children:["Number of Pints Pulled: ",v.formatInteger(this.props.defaultItemClicks),"."]})]}),Object(a.jsx)("button",{onClick:function(){return v.restartGame()},children:"Restart"})]})}}]),i}(c.a.Component),D=function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"lore",children:[Object(a.jsx)("h2",{children:"Intro"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores cumque enim incidunt nulla qui reiciendis voluptatibus? Aperiam architecto culpa est excepturi maiores praesentium reprehenderit? Aliquam beatae enim quidem quisquam totam!"})]})}}]),i}(c.a.Component),B=function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"about",children:[Object(a.jsx)("h2",{children:"About"}),Object(a.jsx)("p",{children:"Some stuff about the game."}),Object(a.jsx)("p",{children:"Created by PhutureProof 2021."})]})}}]),i}(c.a.Component),G=function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"contact",children:[Object(a.jsx)("h2",{children:"Contact"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(a.jsx)("input",{type:"text",name:"email",id:"email"})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"message",children:"Message:"}),Object(a.jsx)("textarea",{name:"message",id:"message",rows:"10"})]}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("button",{type:"button",children:"Send Message"})})]})]})}}]),i}(c.a.Component),A=(i(22),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).state={bonusAmount:1,bonusMultiplier:!1},s.selectBonusAmount=s.selectBonusAmount.bind(Object(p.a)(s)),s.selectBonusMultiplier=s.selectBonusMultiplier.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s}return Object(h.a)(i,[{key:"selectBonusAmount",value:function(e){this.setState({bonusAmount:Number(e.target.value)})}},{key:"selectBonusMultiplier",value:function(e){this.setState({bonusMultiplier:"true"===e.target.value})}},{key:"handleSubmit",value:function(){this.props.adHandler(this.state.bonusAmount,this.state.bonusMultiplier)}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"advert",children:[Object(a.jsx)("h2",{children:"Advert"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{children:"Select Bonus:"}),Object(a.jsxs)("select",{name:"bonus",id:"bonus",onChange:this.selectBonusAmount,children:[Object(a.jsx)("option",{value:"1",children:"No Bonus"}),Object(a.jsx)("option",{value:"2",children:"2x"}),Object(a.jsx)("option",{value:"3",children:"3x"}),Object(a.jsx)("option",{value:"4",children:"4x"}),Object(a.jsx)("option",{value:"5",children:"5x"})]})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{children:"Bonus Doubled:"}),Object(a.jsxs)("select",{name:"bonus",id:"bonus",onChange:this.selectBonusMultiplier,children:[Object(a.jsx)("option",{value:"false",children:"No"}),Object(a.jsx)("option",{value:"true",children:"Yes"})]})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{}),Object(a.jsx)("button",{children:"Activate Bonus"})]})]})]})}}]),i}(c.a.Component)),F=(i(23),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).FPS=60,s.timers={defaults:{salaryTimer:60,bonusTimer:900,saveTimer:300},salaryTimer:0,bonusTimer:0,saveTimer:0},s.debug=!0,s.debugGameData=!1,s.debugClickDefaultItem=!1,s.globalGame=!1,s.views={layout:"layout",gameover:"gameover",advert:"advert",lore:"lore",about:"about",contact:"contact"},s.initialState={defaultItemClicks:0,perSecond:0,perSecondMultiplier:1,currentScore:0,maxScore:0,salary:0,gameOver:!1,items:[],bonusActive:!1,bonusDoubled:!1,bonusMultiplier:1,view:s.views.layout,timers:{}},s.tickLength=1e3/s.FPS,s.state=s.initialState,s.doBindings(),s.globalGame&&(window.game=Object(p.a)(s)),s}return Object(h.a)(i,[{key:"doBindings",value:function(){this.defaultItemClickHandler=this.defaultItemClickHandler.bind(this),this.purchaseItem=this.purchaseItem.bind(this),this.saveGame=this.saveGame.bind(this),this.loadGame=this.loadGame.bind(this),this.clearSaveData=this.clearSaveData.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.adHandler=this.adHandler.bind(this),this.changeView=this.changeView.bind(this)}},{key:"changeView",value:function(e){this.setState({view:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.view){case this.views.layout:default:e=Object(a.jsx)(N,{title:this.props.title,version:this.props.version,debug:this.debug,FPS:this.FPS,bonusActive:this.state.bonusActive,bonusMultiplier:this.state.bonusMultiplier,bonusDoubled:this.state.bonusDoubled,tickLength:this.tickLength,perSecond:this.state.perSecond,perSecondMultiplier:this.state.perSecondMultiplier,currentScore:this.state.currentScore,maxScore:this.state.maxScore,salary:this.state.salary,salaryTime:this.timers.defaults.salaryTime,salaryTimer:this.timers.salaryTimer,gameOver:this.state.gameOver,items:this.state.items,purchaseItem:this.purchaseItem,defaultItemClickHandler:this.defaultItemClickHandler,defaultItemClicks:this.state.defaultItemClicks,debugClickDefaultItem:this.debugClickDefaultItem,saveGame:this.saveGame,clearSaveData:this.clearSaveData,adHandler:this.adHandler});break;case this.views.gameover:e=Object(a.jsx)(T,{maxScore:this.state.maxScore,perSecond:this.state.perSecond,defaultItemClicks:this.state.defaultItemClicks,items:this.state.items});break;case this.views.lore:e=Object(a.jsx)(D,{items:this.state.items});break;case this.views.about:e=Object(a.jsx)(B,{});break;case this.views.contact:e=Object(a.jsx)(G,{});break;case this.views.advert:e=Object(a.jsx)(A,{adHandler:this.adHandler})}return Object(a.jsxs)("div",{className:"game",children:[Object(a.jsx)("div",{className:"appTitle",children:Object(a.jsx)("h1",{children:this.props.title})}),Object(a.jsxs)("div",{className:"navigation",children:[Object(a.jsx)("button",{onClick:function(){return t.changeView(t.views.layout)},children:"Home"}),Object(a.jsx)("button",{onClick:function(){return t.changeView(t.views.gameover)},children:"Game Over"}),Object(a.jsx)("button",{onClick:function(){return t.changeView(t.views.lore)},children:"Lore"}),Object(a.jsx)("button",{onClick:function(){return t.changeView(t.views.about)},children:"About"}),Object(a.jsx)("button",{onClick:function(){return t.changeView(t.views.contact)},children:"Contact"}),Object(a.jsx)("button",{onClick:function(){return t.changeView(t.views.advert)},children:"Advert"})]}),Object(a.jsx)("div",{className:"view",children:e})]})}},{key:"adHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timers.bonusTimer=t>1?this.timers.defaults.bonusTimer:0,this.setState({view:this.views.layout,bonusActive:t>1,bonusDoubled:i,bonusMultiplier:t},(function(){e.saveGame(!1)}))}},{key:"clearSaveData",value:function(){window.localStorage.removeItem("gameData"),this.debug&&f.log({message:"Clearing saved game data"})}},{key:"saveGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=window.localStorage,i=Object(b.a)({},this.state);i.timers=Object(b.a)({},this.timers),i.timestamp=Date.now(),t.setItem("gameData",JSON.stringify(i)),e&&this.props.showToast("Game saved","info"),this.debug&&f.log({message:"Saving game state",saveData:i})}},{key:"loadGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=window.localStorage,s=JSON.parse(i.getItem("gameData"));if(s){this.timers=Object(b.a)({},s.timers),delete s.timers;var r=x(this.debugGameData);this.mapItemMultipliers(r,s.items),s.items=v.calculateItemMultipliers(s.items);var n=Date.now(),c=Math.floor((n-s.timestamp)/1e3),o=s.perSecond*s.perSecondMultiplier*c;if(o>0&&(s.currentScore+=o),this.setState(s,(function(){e.timer||e.startTicking()})),this.debug&&f.log(s),t&&o>0){var l=Object(a.jsx)("span",{className:"score",children:v.formatScore(o)}),u=Object(a.jsxs)("p",{children:["Your staff earned ",l," while you were away!"]});this.props.showToast(u,"success")}}}},{key:"mapItemMultipliers",value:function(e,t){var i=this;Array.from(e).forEach((function(s){t.forEach((function(t){s.id===t.id&&(t.multipliers=s.multipliers),t.items&&i.mapItemMultipliers(e,t.items)}))}))}},{key:"gameTimers",value:function(){this.state.salary>0&&(0===this.timers.salaryTimer?(this.takeSalary(),this.timers.salaryTimer=this.timers.defaults.salaryTimer):this.timers.salaryTimer--,this.debug&&f.log({message:"salary timer",value:this.timers.salaryTimer})),this.state.bonusActive&&(this.debug&&f.log({message:"bonus timer",value:this.timers.bonusTimer}),0===this.timers.bonusTimer?(this.setState({bonusActive:!1,bonusDoubled:!1,bonusMultiplier:1}),this.timers.bonusTimer=this.timers.defaults.bonusTimer):this.timers.bonusTimer--),this.debug&&f.log({message:"save timer",value:this.timers.saveTimer}),0===this.timers.saveTimer?(this.saveGame(),this.timers.saveTimer=this.timers.defaults.saveTimer):this.timers.saveTimer--,this.setState({timers:Object(b.a)({},this.timers)})}},{key:"perTickCalculations",value:function(){var e=this.state.perSecond*this.state.perSecondMultiplier;this.state.bonusActive&&(e*=this.state.bonusMultiplier,e*=this.state.bonusDoubled?2:1);var t=(e+=this.state.currentScore)>this.state.maxScore?e:this.state.maxScore,i=v.canShowItems(this.state.items,this.state.currentScore);this.setState({currentScore:e,maxScore:t,items:i,salary:v.calculateSalary(this.state.perSecond)})}},{key:"tick",value:function(){this.gameTimers(),this.perTickCalculations()}},{key:"defaultItemClickHandler",value:function(){var e=100;(this.debugClickDefaultItem&&(e=this.debugClickDefaultItem),e*=this.state.bonusMultiplier,this.state.bonusActive)&&(e*=this.state.bonusDoubled?2:1);var t=this.state.currentScore+e,i=this.state.defaultItemClicks+e;this.setState({currentScore:t,defaultItemClicks:i}),this.debug&&f.log({message:"Purchasing default item",clicks:i})}},{key:"startTicking",value:function(){var e=this;this.timer=setInterval((function(){return e.tick()}),1e3)}},{key:"stopTicking",value:function(){clearInterval(this.timer),this.timer=null}},{key:"componentDidMount",value:function(){var e=this;window.localStorage.getItem("gameData")?this.loadGame(!0):this.setState({items:x(this.debugGameData)},(function(){e.setState({perSecond:v.calculatePerSecond(e.state.items)},(function(){e.startTicking()}))}))}},{key:"componentWillUnmount",value:function(){this.stopTicking()}},{key:"onFocus",value:function(){this.debug&&f.log("Gained Focus"),this.loadGame(!0)}},{key:"onBlur",value:function(){this.debug&&f.log("Lost Focus"),this.saveGame(),this.stopTicking()}},{key:"takeSalary",value:function(){var e=this.state.currentScore-this.state.salary;e<0&&(this.stopTicking(),this.clearSaveData(),this.setState({gameOver:!0})),this.setState({currentScore:e}),this.debug&&f.log({message:"Taking salary",amount:v.formatNumber(this.state.salary)})}},{key:"purchaseItem",value:function(e){var t,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.state.items.slice();e.forEach((function(e){t=t?t.items[e]:a[e]})),t?(t.quantity+=s,t.prices=v.calculateItemPrices(t),a=v.calculateItemMultipliers(a),this.debug&&f.log({message:"Purchasing ".concat(t.name),price:r}),this.setState({items:a,currentScore:this.state.currentScore-r},(function(){i.setState({perSecond:v.calculatePerSecond(i.state.items)})}))):this.debug&&f.log({message:"Could not find item for purchase!",itemIds:e,quantity:s})}}]),i}(c.a.Component)),P=i(7),H=(i(24),i(25),function(e){Object(m.a)(i,e);var t=Object(d.a)(i);function i(){return Object(u.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"showToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",i={position:"top-center"};switch(t){case"success":P.b.success(e,i);break;case"error":P.b.error(e,i);break;default:Object(P.b)(e,i)}}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(F,{title:"Adventurer's Inn",version:"0.14.66",showToast:this.showToast.bind(this)}),Object(a.jsx)(P.a,{})]})}}]),i}(c.a.Component));i(26);l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.c7a084df.chunk.js.map